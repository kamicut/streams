<script src="susp.js"></script>
<script src="game.js"></script>
<body style="margin:50 auto; width:800px;font-family:sans-serif">
<p>
Knight's move example. Choose a starting and end position and calculate the shortest path using chess knight movement. 

The solution is implemented using infinite lists (called streams) to get all combinatorial paths. You can check out the code <a href="https://github.com/kamicut/streams/blob/master/example/game.js">here!</a>
</p>

<form onsubmit="return false" oninput="o.value =
'('+startx.value+','+starty.value+')'">
<p>
	Starting position: 
	x: <input type=range min=1 max=8 value=1 id="startx">
	y: <input type=range min=1 max=8 value=2 id="starty">
	<output	name="o" style="margin:10" for="startx starty">(1,2)</output>
</p>
</form>
<form onsubmit="return false" oninput="o.value =
'('+endx.value+','+endy.value+')'">
<p>
	End position: 
	x: <input type=range min=1 max=8 value=3 id="endx">
	y: <input type=range min=1 max=8 value=4 id="endy">
	<output	name="o" style="margin:10" for="endx endy">(3,4)</output>
</p>
</form>
<form onsubmit="return false" oninput="o.value = 
'('+solutions.value+')'">
<p>
	Number of solutions
	<input type=range min=1 max=40 value=1 id="solutions">
	<output	style="margin:10" name="o" for="solutions">(1)</output>
</p>
</form>
<input type=button value="submit" id="run">
<div id="arena"></div>
</body>
<script >
	document.getElementById("run").onclick = function() {
		var arena = document.getElementById("arena")
		arena.innerHTML = ""

		var startx = document.getElementById("startx").value;
		var starty = document.getElementById("starty").value;
		var endx = document.getElementById("endx").value;
		var endy = document.getElementById("endy").value;
		var solutions = document.getElementById("solutions").value

		game(new Pos(parseInt(startx), parseInt(starty)), 
			new Pos(parseInt(endx), parseInt(endy)),
			solutions, arena, [1,8])
	}
</script>